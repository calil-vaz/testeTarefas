<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Manuten√ß√£o SCN | Grupo Pereira</title>
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="./img/icon-gp-pereira.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <img class="logo-gp-pereira" src="./img/logo-gp-pereira.svg" alt="Logo do Grupo Pereira">
            </div>
            
             <!-- Filtros integrados na navbar -->
            <div class="navbar-toggle" id="navbar-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <div class="navbar-filters">
                <div class="filter-group">
                    <i class="fas fa-building filter-icon"></i>
                    <select id="filial-filter" class="filter-select"><option value="">Todas as Filiais</option><option value="11">Filial 11</option><option value="85">Filial 85</option><option value="115">Filial 115</option><option value="135">Filial 135</option><option value="165">Filial 165</option><option value="182">Filial 182</option><option value="183">Filial 183</option><option value="187">Filial 187</option><option value="190">Filial 190</option><option value="194">Filial 194</option><option value="195">Filial 195</option><option value="198">Filial 198</option><option value="213">Filial 213</option><option value="214">Filial 214</option><option value="223">Filial 223</option><option value="225">Filial 225</option><option value="250">Filial 250</option><option value="255">Filial 255</option><option value="270">Filial 270</option><option value="294">Filial 294</option><option value="295">Filial 295</option><option value="305">Filial 305</option><option value="309">Filial 309</option><option value="310">Filial 310</option><option value="325">Filial 325</option><option value="335">Filial 335</option><option value="375">Filial 375</option><option value="384">Filial 384</option><option value="385">Filial 385</option><option value="405">Filial 405</option><option value="420">Filial 420</option><option value="479">Filial 479</option><option value="480">Filial 480</option><option value="492">Filial 492</option><option value="561">Filial 561</option><option value="825">Filial 825</option><option value="897">Filial 897</option><option value="905">Filial 905</option></select>
                </div>
                
                <div class="filter-group">
                    <i class="fas fa-user filter-icon"></i>
                    <select id="encarregado-filter" class="filter-select"><option value="">Todos os Encarregados</option><option value="ALEXANDRE">ALEXANDRE</option><option value="MAICON">MAICON</option><option value="RENILDO">RENILDO</option><option value="WILLIAM">WILLIAM</option></select>
                </div>
                
                <div class="filter-group">
                    <i class="fas fa-map-marker-alt filter-icon"></i>
                    <select id="subregional-filter" class="filter-select">
                        <option value="">Todas as Subregionais</option>
                        <option value="NORTE">Norte</option>
                        <option value="VALE">Vale</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <i class="fas fa-tag filter-icon"></i>
                    <select id="bandeira-filter" class="filter-select">
                        <option value="">Todas as Bandeiras</option>
                        <option value="COMPER">Comper</option>
                        <option value="FORT">Fort</option>
                        <option value="FARMA">Farma</option>
                        <option value="SCHMIT">Schmit</option>
                    </select>
                </div>
                
                <button id="clear-filters" class="btn-clear">
                    <i class="fas fa-times"></i>
                    Limpar
                </button>
            </div>
        </div>
    </nav>
    <div class="container">
        <!-- Header -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">
                    <i class="fas fa-chart-line hero-icon"></i>
                    Portal Manuten√ß√£o
                </h1>
                <p class="hero-subtitle">Acompanhamento Mensal - Setembro 2025 - Regional SCN</p>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <i class="fas fa-clock"></i>
                        <a class="link" href="./">Acompanhamento Mensal</a>
                    </div>
                    <div class="hero-stat">
                        <i class="fas fa-shield-alt"></i>
                        <a class="link" href="./OS/">Ordens de Servi√ßo</a>
                    </div>
                    <div class="hero-stat">
                        <i class="fas fa-tasks"></i>
                        <a class="link" href="./tarefas/index.html">Gest√£o de Tarefas</a>
                    </div>
                    <div class="hero-stat">
                        <i class="fas fa-mobile-alt"></i>
                        <span>Responsivo</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cards de Estat√≠sticas Gerais -->
        <!-- <section class="stats-section">
            <h2>Estat√≠sticas Gerais</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-content">
                        <h3>Total de Demandas</h3>
                        <p class="stat-number" id="total-demandas">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-content">
                        <h3>Demandas com Pedido</h3>
                        <p class="stat-number" id="demandas-com-pedido">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ùå</div>
                    <div class="stat-content">
                        <h3>Demandas sem Valor</h3>
                        <p class="stat-number" id="demandas-sem-valor">0</p>
                    </div>
                </div>
            </div>
        </section> -->

        <section class="stats-section">
            <h2 class="section-title">
                <i class="fas fa-chart-bar"></i>
                Estat√≠sticas Gerais
            </h2>
            <div class="stats-grid">
                <div class="stat-card total-demands">
                    <div class="stat-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Total de Demandas</h3>
                        <p class="stat-number" id="total-demandas">0</p>
                        <span class="stat-trend">
                            <i class="fas fa-arrow-up"></i>
                            Todas as solicita√ß√µes
                        </span>
                    </div>
                </div>
                
                <div class="stat-card with-order">
                    <div class="stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Aceitos pelo Fornecedor</h3>
                        <p class="stat-number" id="demandas-com-pedido">0</p>
                        <span class="stat-trend">
                            <i class="fas fa-thumbs-up"></i>
                            Pedidos aceitos
                        </span>
                    </div>
                </div>
                
                <div class="stat-card no-value">
                    <div class="stat-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Demandas sem Valor</h3>
                        <p class="stat-number" id="demandas-sem-valor">0</p>
                        <span class="stat-trend">
                            <i class="fas fa-attention"></i>
                            Sem valor previsto
                        </span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gr√°ficos -->
        <section class="charts-section">
            <h2 class="section-title">
                <i class="fas fa-chart-pie"></i>
                An√°lise Visual dos Dados
            </h2>

            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-info-circle"></i> Status da Requisi√ß√£o</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="nimbi-chart" style="box-sizing: border-box; display: block; height: 336px; width: 358px;" width="448" height="420"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-shopping-cart"></i> Status do Pedido</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="status-pedido-chart" style="box-sizing: border-box; display: block; height: 336px; width: 358px;" width="448" height="420"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-tools"></i> Corretiva vs Preventiva</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="corretiva-preventiva-chart" style="box-sizing: border-box; display: block; height: 336px; width: 358px;" width="448" height="420"></canvas>
                    </div>
                </div>
                
                <!-- <div class="chart-container chart-wide">
                    <div class="chart-header">
                        <h3><i class="fas fa-store"></i> Top 15 Filiais por Demandas</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="top-filiais-chart" style="box-sizing: border-box; display: block; height: 336px; width: 1270px;" width="1588" height="420"></canvas>
                    </div>
                </div> -->
            </div>

            <!-- <div class="charts-grid">
                <div class="chart-container">
                    <h3>Status da Requisi√ß√£o</h3>
                    <canvas id="nimbi-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Status do Pedido</h3>
                    <canvas id="status-pedido-chart"></canvas>
                </div>
                <div class="chart-container">
                    <h3>Corretiva vs Preventiva</h3>
                    <canvas id="corretiva-preventiva-chart"></canvas>
                </div>
                <div class="chart-container chart-wide">
                    <h3>Quantidade de Solicita√ß√µes por Filial</h3>
                    <canvas id="top-filiais-chart"></canvas>
                </div>
            </div> -->
        </section>

        <!-- Tabela por Fam√≠lia -->
        <section class="family-section">
            <h2 class="section-title">
                <i class="fas fa-table"></i>
                An√°lise por Fam√≠lia
            </h2>
            <div class="table-container">
                <div class="table-header">
                    <div class="table-info">
                        <i class="fas fa-info-circle"></i>
                        <p>Comparativo entre valores planejados e realizados por conta/linha</p>
                    </div>
                    <div class="table-actions">
                        <button class="table-btn" id="export-family-table" title="Exportar">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="table-btn" id="refresh-family-table" title="Atualizar">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="family-table" class="modern-table family-table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-list"></i> Conta/Linha</th>
                                <th><i class="fas fa-hashtag"></i> N√∫mero da Conta</th>
                                <th><i class="fas fa-calendar-check"></i> Planejado</th>
                                <th><i class="fas fa-chart-line"></i> Real/Fcst</th>
                                <th><i class="fas fa-dollar-sign"></i> ŒîR$ PxR</th>
                                <th><i class="fas fa-percentage"></i> Œî% PxR</th>
                            </tr>
                        </thead>
                        <tbody id="family-table-body">
                            <!-- Linhas ser√£o geradas dinamicamente pelo JavaScript -->
                        </tbody>
                        <tfoot id="family-table-footer">
                            <!-- Total e m√©dia ser√£o gerados dinamicamente -->
                        </tfoot>
                    </table>
                </div>
            </div>
        </section>

        <!-- Planilha de Demandas sem Pedido -->

        <section class="table-section">
            <h2 class="section-title">
                <i class="fas fa-exclamation-circle"></i>
                Demandas sem Pedido
            </h2>
            <div class="table-container">
                <div class="table-header">
                    <div class="table-info">
                        <i class="fas fa-info-circle"></i>
                        <p>Demandas que est√£o sem pedido h√° mais de 4 dias √∫teis ap√≥s a data RC</p>
                    </div>
                    <div class="table-actions">
                        <button id="export-demandas-sem-pedido-table" class="table-btn" title="Exportar">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="table-btn" title="Atualizar">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="demandas-sem-pedido-table" class="modern-table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-user"></i> Encarregado</th>
                                <th><i class="fas fa-building"></i> Filial</th>
                                <th><i class="fas fa-ticket-alt"></i> SS</th>
                                <th><i class="fas fa-ticket-alt"></i> RC</th>
                                <th><i class="fas fa-file-alt"></i> Descri√ß√£o Demanda</th>
                                <th><i class="fas fa-calendar-alt"></i> Previs√£o Pedido</th>
                                <th><i class="fas fa-clock"></i> Dias sem Pedido</th>
                            </tr>
                        </thead>
                        <tbody id="demandas-sem-pedido-body"><tr><td colspan="6" style="text-align: center;">Nenhuma demanda sem pedido h√° mais de 4 dias √∫teis.</td></tr></tbody>
                    </table>
                </div>
            </div>
        </section>



        <!-- <section class="table-section">
            <h2>Demandas sem Pedido</h2>
            <div class="table-container">
                <div class="table-header">
                    <p>Demandas que est√£o sem pedido h√° mais de 4 dias √∫teis ap√≥s a data RC</p>
                </div>
                <div class="table-wrapper">
                    <table id="demandas-sem-pedido-table">
                        <thead>
                            <tr>
                                <th>Encarregado</th>
                                <th>Filial</th>
                                <th>SS</th>
                                <th>Descri√ß√£o Demanda</th>
                                <th>Previs√£o Pedido</th>
                                <th>Dias sem Pedido</th>
                            </tr>
                        </thead>
                        <tbody id="demandas-sem-pedido-body">
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </section> -->

        

        <div class="chart-container chart-wide">
                    <div class="chart-header">
                        <h3><i class="fas fa-store"></i> Top Filiais por Demandas</h3>
                        <div class="chart-actions">
                            <button class="chart-btn" title="Expandir">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="top-filiais-chart" style="box-sizing: border-box; display: block; height: 336px; width: 1270px;" width="1588" height="420"></canvas>
                    </div>
                </div>

        

        <!-- Loading Indicator -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Carregando dados...</p>
        </div>

        <!-- Error Message -->
        <div id="error-message" class="error-message" style="display: none;">
            <p>Erro ao carregar os dados. Verifique se o arquivo dados.json est√° dispon√≠vel.</p>
        </div>
    </div>
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Portal Manuten√ß√£o</h4>
                <p>Sistema integrado de gest√£o de demandas e pedidos</p>
            </div>
            <div class="footer-section">
                <h4>Grupo Pereira</h4>
                <p>Excel√™ncia em varejo e atendimento</p>
            </div>
            <div class="footer-section">
                <h4>Suporte</h4>
                <p>Entre em contato para d√∫vidas e sugest√µes</p>
                <p>(67) 99139-0635</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2025 Grupo Pereira. Todos os direitos reservados.</p>
            <p>Desenvolvido por Calil Asir Vaz Velozo - PCM SCN</p>
        </div>
    </footer>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>

    <script src="scripts.js"></script>
</body>
</html>

